// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.238.0/containers/java
{
	"name": "Java Dev Container",
	"build": {
		"dockerfile": "Dockerfile",
		"args": {
			// Set the Java version and OS variant.
			// Options for VARIANT: 11, 17
			// Append -bullseye or -buster for the OS version.
			// Use -bullseye for local arm64/Apple Silicon.
			"VARIANT": "17-bullseye",
			
			// Install Maven and Gradle.
			"INSTALL_MAVEN": "true",
			"INSTALL_GRADLE": "true",
			
			// Specify the Node.js version.
			"NODE_VERSION": "lts/*"
		}
	},

	// Configure tool-specific properties.
	"customizations": {
		// VS Code-specific settings.
		"vscode": {
			// Set default container-specific settings.json values on container create.
			"settings": {
				// Add VS Code settings specific to your project.
			},
			
			// Extensions to install in the container.
			"extensions": [
				"vscjava.vscode-java-pack",
				"GitHub.copilot",
				
				// Add any other extensions relevant to your project.
			]
		}
	},

	// Expose ports from the container.
	"forwardPorts": [],

	// Run commands after the container is created.
	"postCreateCommand": "java -version",

	// Specify the user for remote development.
	// Comment out to connect as root. More info: https://aka.ms/vscode-remote/containers/non-root.
	"remoteUser": "vscode",

	// Enable Git and GitHub CLI with OS-provided versions.
	"features": {
		"git": "os-provided",
		"github-cli": "latest"
	}
}
